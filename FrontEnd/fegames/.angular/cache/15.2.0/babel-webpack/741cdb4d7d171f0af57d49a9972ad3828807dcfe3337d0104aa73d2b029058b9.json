{"ast":null,"code":"import { Move } from '../Clases/Move';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../websocket.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../games.service\";\nimport * as i5 from \"../shared-data.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nconst _c0 = function (a0) {\n  return {\n    \"filled\": a0\n  };\n};\nfunction JuegoComponent_tr_2_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function JuegoComponent_tr_2_td_1_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const cellIndex_r6 = restoredCtx.index;\n      const rowIndex_r3 = i0.ɵɵnextContext().index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onCellClick(rowIndex_r3, cellIndex_r6));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cell_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, cell_r5 !== 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cell_r5 || \"\", \" \");\n  }\n}\nfunction JuegoComponent_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, JuegoComponent_tr_2_td_1_Template, 3, 4, \"td\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r2);\n  }\n}\nfunction JuegoComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r10.author);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\": \", message_r10.text, \" \");\n  }\n}\nexport class JuegoComponent {\n  constructor(websocketService, toastr, router, gameService, sharedDataService) {\n    this.websocketService = websocketService;\n    this.toastr = toastr;\n    this.router = router;\n    this.gameService = gameService;\n    this.sharedDataService = sharedDataService;\n    this.byteArray = [];\n    this.chatMessages = []; // Añadir variable para almacenar los mensajes del chat\n    this.newMessage = ''; // Añadir variable para almacenar el mensaje que el usuario está escribiendo\n    this.movimientos = 0;\n    this.apto = 0;\n  }\n  ngOnInit() {\n    this.gameService.getByteArray(this.sharedDataService.username).subscribe(integerList => {\n      this.byteArray = integerList;\n    });\n    this.websocketService.connect(\"ws://localhost:80/wsGames\").subscribe();\n    this.websocketService.socket$.subscribe(messageEvent => {\n      console.log('WebSocket message received:', messageEvent.data);\n      console.log(messageEvent);\n      const messageData = JSON.parse(messageEvent.data);\n      switch (messageData.type) {\n        case 'MOVEMENT':\n          console.log(messageData.message);\n          this.gameService.getByteArray(this.sharedDataService.username).subscribe(integerList => {\n            this.byteArray = integerList;\n          });\n          // this.byteArray = messageData.mensaje\n          break;\n        case 'CHAT':\n          // Añadir la lógica para manejar el mensaje de chat recibido\n          this.chatMessages.push({\n            author: messageData.author,\n            text: messageData.text\n          });\n          break;\n        case 'BROADCAST':\n          break;\n        default:\n        // console.warn('Unrecognized message type:', messageData.type);\n      }\n    });\n  }\n\n  valido(move) {\n    if (Math.abs(move.row1 - move.row2) == 0 && Math.abs(move.col1 - move.col2) == 1 || Math.abs(move.row1 - move.row2) == 1 && Math.abs(move.col1 - move.col2) == 0 || Math.abs(move.row1 - move.row2) == 1 && Math.abs(move.col1 - move.col2) == 1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  onCellClick(rowIndex, cellIndex) {\n    console.log(`Celda seleccionada: Fila ${rowIndex}, columna ${cellIndex}`);\n    this.apto++;\n    if (this.apto == 2) {\n      this.apto = 0;\n      const move = new Move(this.movimientos, this.sharedDataService.id, this.sharedDataService.username, this.row1, this.col1, rowIndex, cellIndex);\n      this.movimientos++;\n      if (this.valido(move)) {\n        this.websocketService.sendMovement(this.sharedDataService.id, move);\n      } else {\n        this.toastr.warning('Movimiento no valido, prueba de nuevo...', 'Advertencia');\n      }\n    } else {\n      this.row1 = rowIndex;\n      this.col1 = cellIndex;\n    }\n  }\n  onAddDigitsClick() {\n    console.log('Agregar dígitos');\n    // CONECTAR BACK\n  }\n\n  onSendMessageClick() {\n    console.log('Enviar mensaje:', this.newMessage);\n    // Lógica para enviar el mensaje de chat a través del WebSocket\n    this.websocketService.sendChat('all', this.newMessage); // 'all' es un ejemplo de cómo indicar un mensaje global a todos los usuarios\n    // Vaciar el campo de entrada después de enviar el mensaje\n    this.newMessage = '';\n  }\n}\nJuegoComponent.ɵfac = function JuegoComponent_Factory(t) {\n  return new (t || JuegoComponent)(i0.ɵɵdirectiveInject(i1.WebSocketService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.GamesService), i0.ɵɵdirectiveInject(i5.SharedDataService));\n};\nJuegoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: JuegoComponent,\n  selectors: [[\"app-juego\"]],\n  decls: 14,\n  vars: 3,\n  consts: [[1, \"game-board\"], [4, \"ngFor\", \"ngForOf\"], [1, \"actions\"], [3, \"click\"], [1, \"chat\"], [1, \"chat-messages\"], [1, \"chat-input\"], [\"placeholder\", \"Escribe un mensaje\", 3, \"ngModel\", \"ngModelChange\"], [1, \"cell\", 3, \"ngClass\", \"click\"], [1, \"message-author\"]],\n  template: function JuegoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\");\n      i0.ɵɵtemplate(2, JuegoComponent_tr_2_Template, 2, 1, \"tr\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function JuegoComponent_Template_button_click_4_listener() {\n        return ctx.onAddDigitsClick();\n      });\n      i0.ɵɵtext(5, \"Agregar d\\u00EDgitos\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"ul\");\n      i0.ɵɵtemplate(9, JuegoComponent_li_9_Template, 4, 2, \"li\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 6)(11, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function JuegoComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.newMessage = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function JuegoComponent_Template_button_click_12_listener() {\n        return ctx.onSendMessageClick();\n      });\n      i0.ɵɵtext(13, \"Enviar\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.byteArray);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.chatMessages);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.newMessage);\n    }\n  },\n  dependencies: [i6.NgClass, i6.NgForOf, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel],\n  styles: [\".game-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\r\\n    border-collapse: collapse;\\r\\n    margin: 0 auto;\\r\\n  }\\r\\n  .game-board[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n    border: 1px solid #ccc;\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n  }\\r\\n  .game-board[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    line-height: 30px;\\r\\n  }\\r\\n  .game-board[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%] {\\r\\n    font-weight: bold;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvanVlZ28vanVlZ28uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHlCQUF5QjtJQUN6QixjQUFjO0VBQ2hCO0VBQ0E7SUFDRSxzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsc0JBQXNCO0VBQ3hCO0VBQ0E7SUFDRSxjQUFjO0lBQ2QsV0FBVztJQUNYLFlBQVk7SUFDWixpQkFBaUI7RUFDbkI7RUFDQTtJQUNFLGlCQUFpQjtFQUNuQiIsInNvdXJjZXNDb250ZW50IjpbIi5nYW1lLWJvYXJkIHRhYmxlIHtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICB9XHJcbiAgLmdhbWUtYm9hcmQgdGQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICB9XHJcbiAgLmdhbWUtYm9hcmQgLmNlbGwge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xyXG4gIH1cclxuICAuZ2FtZS1ib2FyZCAuZmlsbGVkIHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,IAAI,QAAQ,gBAAgB;;;;;;;;;;;;;;;;;ICF/BC,0BAAoD;IAIhDA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,4DAAgC;IAAA,EAAC;IAE1CA,YACF;IAAAA,iBAAS;;;;IAJPA,eAAkC;IAAlCA,mEAAkC;IAGlCA,eACF;IADEA,8CACF;;;;;IARJA,0BAAwD;IACtDA,kEAQK;IACPA,iBAAK;;;;IATkBA,eAAQ;IAARA,gCAAQ;;;;;IAoB7BA,0BAAyC;IACVA,YAAoB;IAAAA,iBAAO;IAAAA,YAC1D;IAAAA,iBAAK;;;;IAD0BA,eAAoB;IAApBA,wCAAoB;IAAOA,eAC1D;IAD0DA,kDAC1D;;;ADZN,OAAM,MAAOC,cAAc;EAWzBC,YAAoBC,gBAAkC,EAAUC,MAAqB,EAASC,MAAc,EAAUC,WAAyB,EAAUC,iBAAoC;IAAzK,qBAAgB,GAAhBJ,gBAAgB;IAA4B,WAAM,GAANC,MAAM;IAAwB,WAAM,GAANC,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IAAwB,sBAAiB,GAAjBC,iBAAiB;IAT1K,cAAS,GAAe,EAAE;IAC1B,iBAAY,GAA4C,EAAE,CAAC,CAAC;IAC5D,eAAU,GAAW,EAAE,CAAC,CAAC;IAQvB,IAAI,CAACC,WAAW,GAAC,CAAC;IAClB,IAAI,CAACC,IAAI,GAAC,CAAC;EACb;EAEAC,QAAQ;IAEN,IAAI,CAACJ,WAAW,CAACK,YAAY,CAAC,IAAI,CAACJ,iBAAiB,CAACK,QAAQ,CAAC,CAACC,SAAS,CAACC,WAAW,IAAG;MACrF,IAAI,CAACC,SAAS,GAAGD,WAAW;IAC9B,CAAC,CAAC;IAEF,IAAI,CAACX,gBAAgB,CAACa,OAAO,CAAC,2BAA2B,CAAC,CAACH,SAAS,EAAE;IAEtE,IAAI,CAACV,gBAAgB,CAACc,OAAO,CAACJ,SAAS,CAAEK,YAA0B,IAAI;MACrEC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,YAAY,CAACG,IAAI,CAAC;MAC7DF,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC;MAEzB,MAAMI,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACN,YAAY,CAACG,IAAI,CAAC;MAEjD,QAAQC,WAAW,CAACG,IAAI;QACtB,KAAK,UAAU;UAEfN,OAAO,CAACC,GAAG,CAACE,WAAW,CAACI,OAAO,CAAC;UAChC,IAAI,CAACpB,WAAW,CAACK,YAAY,CAAC,IAAI,CAACJ,iBAAiB,CAACK,QAAQ,CAAC,CAACC,SAAS,CAACC,WAAW,IAAG;YACrF,IAAI,CAACC,SAAS,GAAGD,WAAW;UAC9B,CAAC,CAAC;UACF;UAEE;QACF,KAAK,MAAM;UACT;UACA,IAAI,CAACa,YAAY,CAACC,IAAI,CAAC;YAAEC,MAAM,EAAEP,WAAW,CAACO,MAAM;YAAEC,IAAI,EAAER,WAAW,CAACQ;UAAI,CAAE,CAAC;UAC9E;QACF,KAAK,WAAW;UAEd;QACF;QACE;MAAA;IAEN,CAAC,CAAC;EAEJ;;EAEAC,MAAM,CAACC,IAAU;IAEf,IAAIC,IAAI,CAACC,GAAG,CAACF,IAAI,CAACG,IAAI,GAACH,IAAI,CAACI,IAAI,CAAC,IAAI,CAAC,IAAIH,IAAI,CAACC,GAAG,CAACF,IAAI,CAACK,IAAI,GAAGL,IAAI,CAACM,IAAI,CAAC,IAAI,CAAC,IAAML,IAAI,CAACC,GAAG,CAACF,IAAI,CAACG,IAAI,GAACH,IAAI,CAACI,IAAI,CAAC,IAAE,CAAC,IAAIH,IAAI,CAACC,GAAG,CAACF,IAAI,CAACK,IAAI,GAACL,IAAI,CAACM,IAAI,CAAC,IAAI,CAAE,IAAKL,IAAI,CAACC,GAAG,CAACF,IAAI,CAACG,IAAI,GAACH,IAAI,CAACI,IAAI,CAAC,IAAE,CAAC,IAAIH,IAAI,CAACC,GAAG,CAACF,IAAI,CAACK,IAAI,GAACL,IAAI,CAACM,IAAI,CAAC,IAAI,CAAE,EAAC;MACtO,OAAO,IAAI;KACZ,MAAI;MACH,OAAO,KAAK;;EAEhB;EACAC,WAAW,CAACC,QAAgB,EAAEC,SAAiB;IAC7CtB,OAAO,CAACC,GAAG,CAAC,4BAA4BoB,QAAQ,aAAaC,SAAS,EAAE,CAAC;IACzE,IAAI,CAAChC,IAAI,EAAE;IACX,IAAG,IAAI,CAACA,IAAI,IAAE,CAAC,EAAC;MACd,IAAI,CAACA,IAAI,GAAC,CAAC;MACX,MAAMuB,IAAI,GAAS,IAAIjC,IAAI,CAAC,IAAI,CAACS,WAAW,EAAE,IAAI,CAACD,iBAAiB,CAACmC,EAAE,EAAE,IAAI,CAACnC,iBAAiB,CAACK,QAAQ,EAAC,IAAI,CAACuB,IAAI,EAAE,IAAI,CAACE,IAAI,EAAEG,QAAQ,EAAEC,SAAS,CAAC;MACnJ,IAAI,CAACjC,WAAW,EAAE;MAClB,IAAG,IAAI,CAACuB,MAAM,CAACC,IAAI,CAAC,EAAC;QACnB,IAAI,CAAC7B,gBAAgB,CAACwC,YAAY,CAAC,IAAI,CAACpC,iBAAiB,CAACmC,EAAE,EAAEV,IAAI,CAAC;OACpE,MAAI;QACH,IAAI,CAAC5B,MAAM,CAACwC,OAAO,CAAC,0CAA0C,EAAE,aAAa,CAAC;;KAEjF,MAAI;MACH,IAAI,CAACT,IAAI,GAACK,QAAQ;MAClB,IAAI,CAACH,IAAI,GAACI,SAAS;;EAEvB;EAEAI,gBAAgB;IACd1B,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAC9B;EACF;;EAEA0B,kBAAkB;IAChB3B,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC2B,UAAU,CAAC;IAC/C;IACA,IAAI,CAAC5C,gBAAgB,CAAC6C,QAAQ,CAAC,KAAK,EAAE,IAAI,CAACD,UAAU,CAAC,CAAC,CAAC;IACxD;IACA,IAAI,CAACA,UAAU,GAAG,EAAE;EACtB;;AA3FW9C,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAgD;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCb3BrD,8BAAwB;MAEpBA,6DAUK;MACPA,iBAAQ;MACRA,8BAAqB;MACXA;QAAA,OAASsD,sBAAkB;MAAA,EAAC;MAACtD,oCAAe;MAAAA,iBAAS;MAKjEA,8BAAkB;MAGZA,6DAEK;MACPA,iBAAK;MAEPA,+BAAwB;MACfA;QAAA;MAAA,EAAwB;MAA/BA,iBAAmE;MACnEA,kCAAuC;MAA/BA;QAAA,OAASsD,wBAAoB;MAAA,EAAC;MAACtD,uBAAM;MAAAA,iBAAS;;;MA5BlCA,eAAc;MAAdA,uCAAc;MAqBRA,eAAe;MAAfA,0CAAe;MAMlCA,eAAwB;MAAxBA,wCAAwB","names":["Move","i0","JuegoComponent","constructor","websocketService","toastr","router","gameService","sharedDataService","movimientos","apto","ngOnInit","getByteArray","username","subscribe","integerList","byteArray","connect","socket$","messageEvent","console","log","data","messageData","JSON","parse","type","message","chatMessages","push","author","text","valido","move","Math","abs","row1","row2","col1","col2","onCellClick","rowIndex","cellIndex","id","sendMovement","warning","onAddDigitsClick","onSendMessageClick","newMessage","sendChat","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\nacho\\OneDrive\\Documentos\\GitHub\\DISENO-APP\\FrontEnd\\fegames\\src\\app\\juego\\juego.component.ts","C:\\Users\\nacho\\OneDrive\\Documentos\\GitHub\\DISENO-APP\\FrontEnd\\fegames\\src\\app\\juego\\juego.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { GamesService } from '../games.service';\nimport { SharedDataService } from '../shared-data.service';\nimport { Router } from '@angular/router';\nimport { WebSocketService } from '../websocket.service';\nimport { Move } from '../Clases/Move';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-juego',\n  templateUrl: './juego.component.html',\n  styleUrls: ['./juego.component.css']\n})\nexport class JuegoComponent implements OnInit {\n\n  byteArray: number[][] = [];\n  chatMessages: Array<{ author: string, text: string }> = []; // Añadir variable para almacenar los mensajes del chat\n  newMessage: string = ''; // Añadir variable para almacenar el mensaje que el usuario está escribiendo\n  movimientos!: number\n  apto!: number\n  row1!: number\n  col1!: number\n\n\n  constructor(private websocketService: WebSocketService, private toastr: ToastrService,private router: Router, private gameService: GamesService, private sharedDataService: SharedDataService) {\n    this.movimientos=0;\n    this.apto=0;\n  }\n\n  ngOnInit(): void {\n\n    this.gameService.getByteArray(this.sharedDataService.username).subscribe(integerList => {\n      this.byteArray = integerList;\n    });\n\n    this.websocketService.connect(\"ws://localhost:80/wsGames\").subscribe();\n\n    this.websocketService.socket$.subscribe((messageEvent: MessageEvent) => {\n      console.log('WebSocket message received:', messageEvent.data);\n      console.log(messageEvent)\n\n      const messageData = JSON.parse(messageEvent.data);\n      \n      switch (messageData.type) {\n        case 'MOVEMENT':\n\n        console.log(messageData.message);\n        this.gameService.getByteArray(this.sharedDataService.username).subscribe(integerList => {\n          this.byteArray = integerList;\n        });\n        // this.byteArray = messageData.mensaje\n\n          break;\n        case 'CHAT':\n          // Añadir la lógica para manejar el mensaje de chat recibido\n          this.chatMessages.push({ author: messageData.author, text: messageData.text });\n          break;\n        case 'BROADCAST':\n\n          break;\n        default:\n          // console.warn('Unrecognized message type:', messageData.type);\n      }\n    });\n\n  }\n\n  valido(move: Move){\n\n    if((Math.abs(move.row1-move.row2) == 0 && Math.abs(move.col1 - move.col2) == 1) || (Math.abs(move.row1-move.row2)==1 && Math.abs(move.col1-move.col2) == 0) || (Math.abs(move.row1-move.row2)==1 && Math.abs(move.col1-move.col2) == 1)){\n      return true;\n    }else{\n      return false;\n    }\n  }\n  onCellClick(rowIndex: number, cellIndex: number): void {\n    console.log(`Celda seleccionada: Fila ${rowIndex}, columna ${cellIndex}`);\n    this.apto++;\n    if(this.apto==2){\n      this.apto=0;\n      const move: Move = new Move(this.movimientos, this.sharedDataService.id, this.sharedDataService.username,this.row1, this.col1, rowIndex, cellIndex);\n      this.movimientos++;\n      if(this.valido(move)){\n        this.websocketService.sendMovement(this.sharedDataService.id, move);\n      }else{\n        this.toastr.warning('Movimiento no valido, prueba de nuevo...', 'Advertencia');\n      }\n    }else{\n      this.row1=rowIndex;\n      this.col1=cellIndex;\n    }\n  }\n\n  onAddDigitsClick(): void {\n    console.log('Agregar dígitos');\n    // CONECTAR BACK\n  }\n\n  onSendMessageClick(): void {\n    console.log('Enviar mensaje:', this.newMessage);\n    // Lógica para enviar el mensaje de chat a través del WebSocket\n    this.websocketService.sendChat('all', this.newMessage); // 'all' es un ejemplo de cómo indicar un mensaje global a todos los usuarios\n    // Vaciar el campo de entrada después de enviar el mensaje\n    this.newMessage = '';\n  }\n\n}\n","<div class=\"game-board\">\r\n  <table>\r\n    <tr *ngFor=\"let row of byteArray; let rowIndex = index\">\r\n      <td *ngFor=\"let cell of row; let cellIndex = index\">\r\n        <button\r\n          class=\"cell\"\r\n          [ngClass]=\"{'filled': cell !== 0}\"\r\n          (click)=\"onCellClick(rowIndex, cellIndex)\"\r\n        >\r\n          {{ cell || '' }}\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <div class=\"actions\">\r\n    <button (click)=\"onAddDigitsClick()\">Agregar dígitos</button>\r\n  </div>\r\n</div>\r\n\r\n<!-- Añadir sección de chat -->\r\n<div class=\"chat\">\r\n  <div class=\"chat-messages\">\r\n    <ul>\r\n      <li *ngFor=\"let message of chatMessages\">\r\n        <span class=\"message-author\">{{ message.author }}</span>: {{ message.text }}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class=\"chat-input\">\r\n    <input [(ngModel)]=\"newMessage\" placeholder=\"Escribe un mensaje\" />\r\n    <button (click)=\"onSendMessageClick()\">Enviar</button>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}